- const emailRegex = /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.toString().slice(1, -1);

form.d-flex.flex-column.justify-content-center.align-items-center(style="min-height: 75vh;")
    h2 Registrieren
    h6.text-center Du hast einen Account?
        br
        a(href="/login") Login
    .my-2.w-25
        label.form-label(for="email") Username
        input.form-control(
            type="text",
            id="username",
            placeholder="user1234",
            onkeypress!="onEnter(event, (e => e.click.bind(e))(document.getElementById('submit')))",
            required,
            minlength=2,
            maxlength=30,
            pattern="^\.?([a-zA-Z0-9öäüÖÄÜ]+\.)*[a-zA-Z0-9öäüÖÄÜ]?$"
        )
        .invalid-feedback Usernames müssen aus 2 bis 30 Buchstaben, Zahlen und einzelnen Punkten bestehen.
    .my-2.w-25
        label.form-label(for="email") Email
        input.form-control(
            type="email",
            id="email",
            placeholder="name@example.com",
            onkeypress!="onEnter(event, (e => e.click.bind(e))(document.getElementById('submit')))",
            required,
            pattern=`${emailRegex}`
        )
    .my-2.w-25
        label.form-label(for="password") Passwort
        input.form-control(
            type="password",
            id="password",
            onkeypress!="onEnter(event, (e => e.click.bind(e))(document.getElementById('submit')))",
            required,
            minlength=8,
            maxlength=128,
            pattern="^[\\x00-\\x7F]*$"
        )
        .invalid-feedback Passwörter müssen aus 8 bis 128 ASCII-Zeichen bestehen.
    button.btn.btn-primary.px-5.my-4#submit(
        onclick!="submitRegister()",
        type="button",
        disabled
    ) Registrieren
    .frc-captcha(data-sitekey=f.siteKey, data-callback="enableSubmit", data-lang="de", data-start="none")
script(
    type="module",
    src="https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.1/widget.module.min.js",
    async,
    defer
)
script(
    nomodule,
    src="https://cdn.jsdelivr.net/npm/friendly-challenge@0.9.1/widget.min.js",
    async,
    defer
)